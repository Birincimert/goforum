{{ define "footer" }}
<!-- Footer-->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          <li class="list-inline-item">
            <a href="https://www.linkedin.com/in/birincimert/">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                                    </span>
            </a>
          </li>

          <li class="list-inline-item">
            <a href="https://github.com/Birincimert">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
            </a>
          </li>
        </ul>
        <p class="copyright text-muted">Copyright &copy; GoForum <span id="year"></span></p>
      </div>
    </div>
  </div>
</footer>

<!-- Author application floating button -->
<div id="author-apply-widget" style="position: fixed; left: 20px; bottom: 20px; z-index: 1200;">
  <button id="open-author-modal" class="btn btn-site-primary" style="border-radius: 999px; padding: 12px 18px; display:flex; align-items:center; gap:12px; background: #0b4a82; color: #fff; border: none;">
    <i class="fas fa-comments"></i>
    <span>Yazar olarak bize katılın!</span>
  </button>
</div>

<!-- Modal -->
<div class="custom-modal" id="authorModal" tabindex="-1" role="dialog" aria-labelledby="authorModalLabel" aria-hidden="true" style="display:none;">
  <div class="custom-modal-dialog" role="document">
    <div class="custom-modal-content">
      <div class="custom-modal-header">
        <h5 class="modal-title" id="authorModalLabel">Yazar Başvurusu</h5>
        <button type="button" class="custom-close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form id="author-apply-form" action="/author/apply" method="post">
        <div class="custom-modal-body">
          <div class="form-group">
            <label>İsim</label>
            <input class="form-control custom-input" name="first_name" required />
          </div>
          <div class="form-group">
            <label>Soyisim</label>
            <input class="form-control custom-input" name="last_name" required />
          </div>
          <div class="form-group">
            <label>E-posta</label>
            <input type="email" class="form-control custom-input" name="email" required />
          </div>
          <div class="form-group">
            <label>Kullanıcı Adı</label>
            <input class="form-control custom-input" name="username" required />
          </div>
          <div class="form-group">
            <label>Şifre</label>
            <input type="password" class="form-control custom-input" name="password" required />
          </div>
          <div class="form-group">
            <label>Kısa Biyografi</label>
            <textarea class="form-control custom-input" name="bio" rows="3"></textarea>
          </div>
        </div>
        <div class="custom-modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Kapat</button>
          <button type="submit" class="btn btn-site-primary">Başvuruyu Gönder</button>
        </div>
      </form>
    </div>
  </div>
</div>

<style>
/* Custom dark-blue / white modal styles */
.custom-modal { position: fixed; top:0; left:0; width:100%; height:100%; display:none; align-items:center; justify-content:center; z-index:1050; }
.custom-modal-dialog { max-width:540px; width:90%; }
.custom-modal-content { background: #ffffff; border-radius:12px; overflow:hidden; box-shadow: 0 12px 40px rgba(3,27,66,0.35); }
.custom-modal-header { background: linear-gradient(135deg,#0b4a82,#1d6fb3); color: #fff; padding:18px 20px; display:flex; align-items:center; justify-content:space-between; }
.custom-modal-body { padding:20px; background: #fff; color:#1e293b; }
.custom-modal-footer { padding:16px 20px; display:flex; justify-content:flex-end; gap:10px; background:#f8fafc; }
.custom-close { background:transparent; border:none; color:#fff; font-size:20px; }
.custom-input { border: 1px solid rgba(13,74,130,0.12); padding:10px 12px; border-radius:8px; }
.btn-site-primary { background: #0b4a82; color: #fff; border-radius: 8px; padding:8px 14px; border: none; }
.btn-site-primary:hover { background:#0e57a0; }
</style>

<script>
// Vanilla JS modal show/hide to avoid jQuery dependency timing issues
document.addEventListener('DOMContentLoaded', function(){
  var openBtn = document.getElementById('open-author-modal');
  var modal = document.getElementById('authorModal');
  if(!openBtn || !modal) return;

  var closeSelectors = modal.querySelectorAll('[data-dismiss="modal"], .custom-close');

  function createBackdrop(){
    if (document.querySelector('.custom-modal-backdrop')) return;
    var bd = document.createElement('div');
    bd.className = 'custom-modal-backdrop';
    bd.style.position = 'fixed'; bd.style.left = 0; bd.style.top = 0; bd.style.right = 0; bd.style.bottom = 0; bd.style.background = 'rgba(2,6,23,0.5)'; bd.style.zIndex = 1040;
    document.body.appendChild(bd);
  }
  function removeBackdrop(){
    var bd = document.querySelector('.custom-modal-backdrop');
    if (bd) bd.parentNode.removeChild(bd);
  }

  function showModal(){
    modal.style.display = 'flex';
    modal.classList.add('show');
    document.body.classList.add('modal-open');
    createBackdrop();
  }
  function hideModal(){
    modal.style.display = 'none';
    modal.classList.remove('show');
    document.body.classList.remove('modal-open');
    removeBackdrop();
  }

  openBtn.addEventListener('click', function(e){
    e.preventDefault();
    showModal();
  });
  closeSelectors.forEach(function(btn){
    btn.addEventListener('click', function(e){ e.preventDefault(); hideModal(); });
  });
  // click outside content
  modal.addEventListener('click', function(e){ if (e.target === modal) hideModal(); });
});
</script>

<script>
    var d = new Date();
    document.getElementById("year").innerText = d.getFullYear();
</script>
{{ end }}
