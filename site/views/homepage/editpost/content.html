{{ define "content" }}
<section class="np-wrap">
  <div class="np-card">
    <h1 class="np-title"><i class="fas fa-pen"></i> Yazıyı Düzenle</h1>
    <form action="/profile/post/edit/{{ .Post.ID }}" method="post" enctype="multipart/form-data" class="np-form">
      <div class="np-row">
        <label for="blog-title">Başlık</label>
        <input type="text" id="blog-title" name="blog-title" required value="{{ .Post.Title }}">
      </div>
      <div class="np-row">
        <label for="blog-category">Kategori</label>
        <select id="blog-category" name="blog-category" required>
          {{ range .Categories }}
            <option value="{{ .ID }}" {{ if eq .ID $.Post.CategoryID }}selected{{ end }}>{{ .Title }}</option>
          {{ end }}
        </select>
      </div>
      <div class="np-row">
        <label for="blog-desc">Kısa Açıklama</label>
        <input type="text" id="blog-desc" name="blog-desc" maxlength="200" value="{{ .Post.Description }}">
      </div>
      <div class="np-row">
        <label for="blog-picture">Kapak Görseli (değiştirmek isterseniz seçin)</label>
        <input type="file" id="blog-picture" name="blog-picture" accept="image/*">
        {{ if .Post.Picture_url }}<small>Şu anki: /{{ .Post.Picture_url }}</small>{{ end }}
      </div>
      <div class="np-row">
        <label for="post-editor">İçerik</label>
        <textarea id="post-editor" name="blog-content" rows="10" required>{{ .Post.Content }}</textarea>
      </div>
      <div class="np-actions">
        <a href="/profile" class="btn-light">Vazgeç</a>
        <button type="submit" class="btn-darkblue">Kaydet</button>
      </div>
    </form>
  </div>
</section>

<style>
.np-wrap{min-height:85vh;background:linear-gradient(180deg,#0f2a44 0%,#f5fbff 100%);padding:32px 16px}
.np-card{max-width:750px;margin:5rem auto;background:#fff;border-radius:16px;box-shadow:0 16px 40px rgba(0,0,0,.08);padding:22px}
.np-title{margin:0 0 12px 0;color:#0d3a66;display:flex;align-items:center;gap:10px}
.np-form{display:grid;gap:14px}
.np-row{display:flex;flex-direction:column;gap:8px}
.np-row label{font-weight:700;color:#123}
.np-row input[type=text],.np-row select,.np-row textarea{border:1px solid #d6e6f5;border-radius:10px;padding:10px 12px;outline:none}
.np-row input[type=text]:focus,.np-row select:focus,.np-row textarea:focus{border-color:#0d3a66;box-shadow:0 0 0 3px rgba(13,58,102,.08)}
.note-editor.note-frame{border-radius:10px;border-color:#d6e6f5}
.note-editor.note-frame .note-toolbar{border-bottom:1px solid #e9eef5;background:#fbfdff;border-top-left-radius:10px;border-top-right-radius:10px}
.note-editor.note-frame .note-editing-area{border-bottom-left-radius:10px;border-bottom-right-radius:10px}
.np-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:6px}
.btn-light{background:#fff;border:1px solid #cfe2f3;color:#123;padding:10px 16px;border-radius:10px;text-decoration:none}
.btn-darkblue{background:#0d3a66;color:#fff;border:0;padding:10px 16px;border-radius:10px;cursor:pointer}
.btn-darkblue:hover{background:#0a2f52}
</style>
{{ end }}

