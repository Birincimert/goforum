{{ define "scripts" }}
<!-- Bootstrap core JS-->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="/assets/js/scripts.js"></script>
<!-- iziToast -->
<script src="/admin/assets/js/iziToast.min.js"></script>
{{ if .Alert.is_alert }}
<script>
  iziToast.show({
    message: '{{ .Alert.message }}',
    backgroundColor: '#111111',
    messageColor: '#ffffff',
    position: 'topRight',
    timeout: 3500,
    progressBar: true
  });
  </script>
{{ end }}

<!-- Page-scoped enhancers -->
<script>
(function(){
  // Summernote’u sadece Yeni Yazı formu (#post-editor) varsa yükle
  function loadScript(src, cb){ var s=document.createElement('script'); s.src=src; s.onload=cb; document.head.appendChild(s); }
  function ensureCss(href){ if (![...document.styleSheets].some(ss=>ss.href && ss.href.indexOf(href)>=0)){ var l=document.createElement('link'); l.rel='stylesheet'; l.href=href; document.head.appendChild(l);} }
  if (document.getElementById('post-editor')) {
    ensureCss('/admin/assets/summernote/summernote-bs4.min.css');
    loadScript('/admin/assets/summernote/summernote-bs4.min.js', function(){
      if (window.jQuery && jQuery.fn && jQuery.fn.summernote) {
        jQuery(function(){
          jQuery('#post-editor').summernote({
            height: 320,
            minHeight: 220,
            placeholder: 'Yazı içeriğini buraya yazın…',
            toolbar: [
              ['style', ['style']],
              ['font', ['bold','italic','underline','clear']],
              ['fontname', ['fontname']],
              ['color', ['color']],
              ['para', ['ul','ol','paragraph']],
              ['insert', ['link','picture','video']],
              ['view', ['fullscreen','codeview','help']]
            ]
          });
        });
      }
    });
  }
})();
</script>
{{ end }}
